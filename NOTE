#connect to VM via SSL
#- ssl localhost -p 4241

#Copy project to VM
#- scp -P 4241 -r inception  shachowd@localhost:/home/shachowd/

#check docker status in VM
#- make info


###..................Docker Commands.............###
#Running  container: docker ps
#All container: docker ps -a / docker ps -qa
#Remove container: docker stop $(docker ps -qa); docker rm $(docker ps -qa);
#_______
#Images: Docker inages
#Remove Images: docker rmi -f $(docker images -qa);
#_______
#Volume: docker volume ls / docker volume ls -q
#Remove volume: docker volume rm $(docker volume ls -q);
#Inspect: docker volume inspect volume-name
#_______
#Network: docker network ls -q
#Remove networ: docker network rm $(docker network ls -q) 2>/dev/null
#Inspect network: docker network inspect docker-network
#_______
#Logs: docker logs container_name
#Docker compose log: docker-compose logs container_name
#_______
#Verify correct usage of Docker daemon:
#- docker exec -it container-name ps aux (PID 1 cannot be any of these: bash, sh, sleep)
#_______



##.................Mariadb.............###

#Access MariaDB container's shell:
	#- docker exec -it mariadb sh
#Enter mariaDB client inside the container:
	#- mysql -u root -p
	#- After this type password for mysql.
#Check what databases exist:
	#- SHOW DATABASES;
#Check if mysql user exists (.env) and the priviledges granted to it:
	#- SELECT User, Host FROM mysql.user;
	#- SHOW GRANTS FOR tanjaaa;
#Check that WordPress tables are set up:
	#-USE wordpress_db;
	#-SHOW TABLES;
#Verify WordPress content (examples):
	#-SELECT * FROM wp_users;


###.................Wordpress.............###
#check if php-fpm is running inside the container
	#-docker exec -it wordpress ps aux | grep php-fpm
#check if you can connect to MariaDB from WordPress
	#-docker exec -it wordpress sh
	#- mysql -h mariadb -u"$MYSQL_USER" -p"$MYSQL_PASSWORD" "$MYSQL_DATABASE"
	#OR
	#- mysql -h mariadb -u root -p


###.................nginx.............###
#*check the validity of the SSL certificate:

	#-docker exec -it container_id_or_name sh
	#- openssl s_client -connect user.42.fr:443
#check if Nginx is actually listening to port 443 inside the container:
	#-docker exec -it container-name netstat -tlnp
#test the same thing on host:
	#- docker inspect container-name | grep "443"
	#- check the TLS and http/https access inside the container:
	#- docker exec -it container-name-or-id
	#- curl -k http://user.42.fr # should fail
	#- curl -k https://user.42.fr # should display a html document
	#- curl -v https://user.42.fr # display TLS info


###............ EXtra..........########
# docker exec -it mariadb_cont netstat -tuln | grep 3306
# docker exec -it mariadb_cont netstat -tuln
#- tcp        0      0 0.0.0.0:3306   0.0.0.0:*     LISTEN
# mysqladmin ping -h mariadb -u root -pYourRootPass



# TLS1.3: [TLS]_[Encryption_Algo]_[Auth]: [TLS]_[AES_256_GCM]_[SHA384]
# TLS1.2: [Key-Exhcnage]-[Encryption-Algo]-[Auth]: [ECDHE-RSA]-[AES256-GCM]-[SHA384]
